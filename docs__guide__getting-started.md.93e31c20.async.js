(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"TN5+":function(e,n,t){"use strict";var a=t("wx14"),c=t("q1tI"),r=t.n(c);t("kERV");n["a"]=e=>r.a.createElement("div",Object(a["a"])({className:"__dumi-default-alert"},e))},kERV:function(e,n,t){},oJYU:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),c=t.n(a),r=t("dEAq"),o=t("TN5+"),s=t("ZpkN");n["default"]=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"\u5feb\u901f\u4e0a\u624b"},c.a.createElement(r["AnchorLink"],{to:"#\u5feb\u901f\u4e0a\u624b","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:["icon","icon-link"]})),"\u5feb\u901f\u4e0a\u624b"),c.a.createElement("p",null,c.a.createElement(o["a"],null,"Tips: \u8bf7\u786e\u4fdd\u4f60\u7684 React \u7248\u672c >= ",c.a.createElement("strong",null,"16.8.0"))),c.a.createElement("h2",{id:"\u5b89\u88c5"},c.a.createElement(r["AnchorLink"],{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:["icon","icon-link"]})),"\u5b89\u88c5"),c.a.createElement(s["a"],{code:"// \u4f7f\u7528 npm\n$ npm i dobux --save\n\n// \u4f7f\u7528 yarn\n$ yarn add dobux\n",lang:"bash"}),c.a.createElement("h2",{id:"\u57fa\u672c\u4f7f\u7528"},c.a.createElement(r["AnchorLink"],{to:"#\u57fa\u672c\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:["icon","icon-link"]})),"\u57fa\u672c\u4f7f\u7528"),c.a.createElement(s["a"],{code:"import { createModel, createStore } from 'dobux'\n\n// 1. \u521b\u5efa Model\nexport const counter = createModel()({\n  state: {\n    count: 0,\n  },\n  reducers: {\n    increase(state) {\n      state.count += 1\n    },\n    decrease(state) {\n      state.count -= 1\n    },\n  },\n  effects: (model, rootModel) => ({\n    async increaseAsync() {\n      await wait(2000)\n      model.reducers.increase()\n    },\n  }),\n})\n\n// 2. \u521b\u5efa Store\nconst store = createStore({\n  counter,\n})\n\n// 3. \u6302\u8f7d\u6a21\u578b\nconst { Provider, useModel } = store\n\nfunction App() {\n  return (\n    <Provider>\n      <Counter />\n    </Provider>\n  )\n}\n\n// 4. \u6d88\u8d39\u6a21\u578b\nfunction Counter() {\n  const { state, reducers, effects } = useModel('counter')\n\n  const handelIncrease = () => {\n    reducers.increase()\n  }\n\n  const handelDecrease = () => {\n    reducers.decrease()\n  }\n\n  const handelIncreaseAsync = () => {\n    reducers.increaseAsync()\n  }\n\n  if (effects.increaseAsync.loading) {\n    return <p className=\"loading\">loading ...</p>\n  }\n\n  return (\n    <div>\n      <div>The count is\uff1a{state.count}</div>\n      <button onClick={handelIncrease}>+</button>\n      <button onClick={handelDecrease}>-</button>\n      <button onClick={handelIncreaseAsync}>async</button>\n    </div>\n  )\n}\n",lang:"jsx"}),c.a.createElement("p",null,c.a.createElement(r["AnchorLink"],{to:"/guide/examples#%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E6%95%B0%E5%99%A8"},"\u70b9\u51fb\u67e5\u770b Typescript \u793a\u4f8b"))))}}}]);